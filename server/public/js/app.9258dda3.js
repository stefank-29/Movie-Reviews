(function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],m=0,v=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var u=a[i];0!==n[u]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Navigation"),a("router-view")],1)},s=[],o=(a("96cf"),a("1da1")),i=a("5530"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header",{staticClass:"top"},[r("nav",{staticClass:"nav"},[r("div",{staticClass:"nav__section nav__section--pages"},[r("li",{staticClass:"nav__item"},[r("router-link",{staticClass:"nav__link nav__link--logo",attrs:{to:{name:"Home"}}},[r("img",{attrs:{src:a("9d64"),alt:""}})])],1),r("li",{staticClass:"nav__item"},[r("router-link",{staticClass:"nav__link",attrs:{to:{name:"Movies"}}},[e._v(" Movies ")])],1),e.$store.state.isAdmin?r("li",{staticClass:"nav__item"},[r("router-link",{staticClass:"nav__link",attrs:{to:{name:"AddMovie"}}},[e._v(" Add movie ")])],1):e._e()]),r("div",{staticClass:"nav__section nav__section--user"},[e.$store.state.isLoggedIn?e._e():r("li",{staticClass:"nav__item"},[r("router-link",{staticClass:"nav__link",attrs:{to:{name:"Register"}}},[e._v(" Register ")])],1),e.$store.state.isLoggedIn?e._e():r("li",{staticClass:"nav__item"},[r("router-link",{staticClass:"nav__link",attrs:{to:{name:"Login"}}},[e._v(" Login ")])],1),e.$store.state.isLoggedIn?r("li",{staticClass:"nav__item",on:{click:e.logout}},[r("router-link",{staticClass:"nav__link",attrs:{to:"/logout"}},[e._v(" Logout ")])],1):e._e(),e.$store.state.isLoggedIn?r("li",{staticClass:"nav__item"},[r("router-link",{staticClass:"nav__link",attrs:{to:"/account"}},[e._v(" Account ")])],1):e._e()])])])])},l=[],c=a("2f62"),m={name:"Navigation",methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["removeUser"])),{},{logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.removeUser(),e.$router.push({name:"Home"});case 2:case"end":return t.stop()}}),t)})))()}}),data:function(){return{}}},v=m,d=a("2877"),p=Object(d["a"])(v,u,l,!1,null,null,null),g=p.exports,A=a("bc3a"),f=a.n(A),x=function(){return f.a.create({baseURL:"http://localhost:5000/api/",headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}})},w={register:function(e){return x().post("/register",e)},login:function(e){return x().post("/login",e)},update:function(e){return x().post("/account",e)},isLoggedIn:function(){return x().get("/user")},logout:function(){return x().get("/logout")}},h={components:{Navigation:g},methods:Object(i["a"])({},Object(c["b"])(["saveUser"])),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.isLoggedIn();case 3:if(a=t.sent,!a.data.user){t.next=7;break}return t.next=7,e.saveUser(a.data.user);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},_=h,b=(a("5c0b"),Object(d["a"])(_,n,s,!1,null,null,null)),C=b.exports,O=a("8c4f"),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner"},[a("h1",{staticClass:"title"},[e._v("Movies")]),a("div",{staticClass:"movies"},e._l(e.movies,(function(e){return a("MovieCard",{key:e._id,staticClass:"movie",attrs:{movie:e}})})),1)])},Q=[],R={addMovie:function(e){return x().post("/movies",e)},editMovie:function(e){var t=e.formData,a=e.id;return x().put("/movie/".concat(a),t,{"Content-Type":"multipart/form-data"})},deleteMovie:function(e){return x().delete("/movie/".concat(e))},getMovies:function(){return x().get("/movies")},getMovie:function(e){return x().get("/movies/".concat(e))},getComments:function(e){return x().get("/comment/".concat(e))},addComment:function(e,t,a){return console.log(t),x().post("/comment/".concat(a),{comment:e,user:t})}},k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"movie__hero"},[r("router-link",{attrs:{to:"/movies/"+e.movie._id}},[r("img",{attrs:{src:"./uploads/"+(e.movie.photo||"movie.jpg")+" ",alt:"movie image"}})])],1),r("div",{staticClass:"movie__details"},[r("div",{staticClass:"movie__name"},[r("router-link",{attrs:{to:"/movies/"+e.movie._id}},[r("span",[e._v(e._s(e.movie.name))])])],1),r("div",{staticClass:"movie__genre"},[r("span",[e._v(e._s(e.movie.genre))])]),e.$store.state.isAdmin?r("div",{staticClass:"edit"},[r("router-link",{attrs:{to:"/movies/"+e.movie._id+"/edit"}},[r("img",{attrs:{src:a("8170"),alt:""}})])],1):e._e()])])},y=[],D={name:"Card",props:{movie:Object}},M=D,P=Object(d["a"])(M,k,y,!1,null,null,null),B=P.exports,S={name:"Home",components:{MovieCard:B},data:function(){return{movies:[]}},methods:{},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.getMovies();case 2:a=t.sent,console.log(a.data),e.movies=a.data;case 5:case"end":return t.stop()}}),t)})))()}},E=S,N=Object(d["a"])(E,j,Q,!1,null,null,null),I=N.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner"},[a("ValidationObserver",{attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[a("form",{staticClass:"form card",attrs:{action:"/register"},on:{submit:function(t){return t.preventDefault(),r(e.register)}}},[a("h2",[e._v("Register")]),a("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"name"}},[e._v("Name*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"surname"}},[e._v("Surname*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],attrs:{type:"text",name:"surname"},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"email"}},[e._v("Email*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"age"}},[e._v("Age*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.age,expression:"age"}],attrs:{type:"number",name:"age"},domProps:{value:e.age},on:{input:function(t){t.target.composing||(e.age=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"password"}},[e._v("Password*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"password-confirm"}},[e._v("Confirm Password*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm_password,expression:"confirm_password"}],attrs:{type:"password",name:"password-confirm"},domProps:{value:e.confirm_password},on:{input:function(t){t.target.composing||(e.confirm_password=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("input",{staticClass:"button save",attrs:{type:"submit",value:"Register",name:"register"}})],1)]}}])})],1)},z=[],q=(a("b0c0"),a("ac1f"),a("466d"),a("7bb1")),F=a("4c93");Object(q["c"])("required",Object(i["a"])(Object(i["a"])({},F["b"]),{},{message:"This field is required"})),Object(q["c"])("email",Object(i["a"])(Object(i["a"])({},F["a"]),{},{message:"Please insert a valid email address"})),Object(q["c"])("password",{getMessage:function(){return"One uppercase character"},validate:function(e){return null!==e.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/)}});var U={name:"Register",components:{ValidationProvider:q["b"],ValidationObserver:q["a"]},data:function(){return{name:"",surname:"",email:"",age:"",password:"",confirm_password:"",error:null}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["saveUser"])),{},{register:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.register({name:e.name,surname:e.surname,email:e.email,age:e.age,password:e.password,"password-confirm":e.confirm_password});case 3:a=t.sent,200===a.status&&(e.saveUser(a.data.user),e.$router.push({name:"Home"})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}})},T=U,H=Object(d["a"])(T,L,z,!1,null,null,null),Y=H.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner"},[a("ValidationObserver",{attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[a("form",{staticClass:"form card",on:{submit:function(t){return t.preventDefault(),r(e.login)}}},[a("h2",[e._v("Login")]),a("validation-provider",{attrs:{rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"email"}},[e._v("Email*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{rules:"required|password"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("label",{attrs:{for:"password"}},[e._v("Password*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("div",{staticClass:"error"},[e._v(e._s(r[0]))])]}}],null,!0)}),a("input",{staticClass:"button save",attrs:{type:"submit",value:"Log In",name:"login"}})],1)]}}])})],1)},J=[];Object(q["c"])("required",Object(i["a"])(Object(i["a"])({},F["b"]),{},{message:"This field is required"})),Object(q["c"])("email",Object(i["a"])(Object(i["a"])({},F["a"]),{},{message:"Please insert a valid email address"})),Object(q["c"])("password",{getMessage:function(){return"One uppercase character"},validate:function(e){return null!==e.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/)}});var W={name:"Login",components:{ValidationProvider:q["b"],ValidationObserver:q["a"]},data:function(){return{email:"",password:"",error:null}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["saveUser"])),{},{login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.login({email:e.email,password:e.password});case 3:a=t.sent,200===a.status&&(e.saveUser(a.data.user),e.$router.push({name:"Home"})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}})},V=W,Z=Object(d["a"])(V,G,J,!1,null,null,null),K=Z.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner"},[a("form",{staticClass:"form card",on:{submit:function(t){return t.preventDefault(),e.addMovie(t)}}},[a("h2",[e._v("Add movie")]),a("label",{attrs:{for:"name"}},[e._v("Name*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{attrs:{for:"genre"}},[e._v("Genre*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.genre,expression:"genre"}],attrs:{type:"text",name:"genre",required:""},domProps:{value:e.genre},on:{input:function(t){t.target.composing||(e.genre=t.target.value)}}}),a("label",{attrs:{for:"photo"}},[e._v("Photo*")]),a("input",{attrs:{type:"file",name:"photo"},on:{change:e.onFileSelected}}),a("label",{attrs:{for:"releaseDate"}},[e._v("Release Date*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.releaseDate,expression:"releaseDate"}],attrs:{type:"date",name:"releaseDate",required:""},domProps:{value:e.releaseDate},on:{input:function(t){t.target.composing||(e.releaseDate=t.target.value)}}}),a("label",{attrs:{for:"ageRestrict"}},[e._v("Age Restrict*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ageRestrict,expression:"ageRestrict"}],attrs:{type:"number",name:"ageRestrict",required:""},domProps:{value:e.ageRestrict},on:{input:function(t){t.target.composing||(e.ageRestrict=t.target.value)}}}),a("input",{staticClass:"button save",attrs:{type:"submit",value:"Submit Movie",name:"add"}})])])},X=[],ee=a("5a30"),te=a.n(ee),ae={name:"AddMovie",data:function(){return{name:"",genre:"",releaseDate:"",ageRestrict:"",selectedFile:""}},methods:{onFileSelected:function(e){this.selectedFile=e.target.files[0]},addMovie:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=new te.a,a.append("file",e.selectedFile),a.append("name",e.name),a.append("genre",e.genre),a.append("ageRestrict",e.ageRestrict),a.append("releaseDate",e.releaseDate),t.next=9,R.addMovie(a);case 9:r=t.sent,200===r.status&&e.$router.push({name:"Home"}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}},re=ae,ne=Object(d["a"])(re,$,X,!1,null,null,null),se=ne.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.movie?r("div",{staticClass:"inner"},[r("div",{staticClass:"single"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.movie.photo,expression:"movie.photo"}],staticClass:"single__image"},[r("img",{attrs:{src:"/uploads/"+e.movie.photo+" ",alt:"movie photo"}})]),r("div",{staticClass:"single__details"},[r("div",{staticClass:"single__name"},[r("h1",[e._v(e._s(e.movie.name))])]),r("div",{staticClass:"info"},[r("p",[e._v("Genres: "+e._s(e.movie.genre))]),r("p",[e._v(" Release date: "+e._s(e._f("dateFormat")(new Date(e.movie.releaseDate),"DD MMMM YYYY"))+" ")]),r("p",[e._v("Age restrict: "+e._s(e.movie.ageRestrict))])]),e.$store.state.isAdmin?r("div",{staticClass:"edit"},[r("router-link",{attrs:{to:"/movies/"+e.movie._id+"/edit"}},[r("img",{attrs:{src:a("8170"),alt:""}})])],1):e._e()])]),e.$store.state.isLoggedIn?r("form",{staticClass:"reviewer",attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),e.sendComment(t)}}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.commentText,expression:"commentText"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:e.commentText},on:{input:function(t){t.target.composing||(e.commentText=t.target.value)}}}),e._m(0)]):e._e(),r("div",{staticClass:"reviews"},e._l(e.comments,(function(t){return r("div",{key:t._id,staticClass:"review"},[r("div",{staticClass:"review__header"},[t.user?r("div",{staticClass:"review__author"},[r("p",[e._v(e._s(t.user.name))]),r("p",{staticClass:"review__time"},[e._v(" "+e._s(e._f("dateFormat")(new Date(t.createdDate),"DD MMM YYYY, HH:mm"))+" ")])]):e._e()]),r("div",{staticClass:"review__body"},[r("p",[e._v(e._s(t.comment))])])])})),0)]):e._e()},ie=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reviewer__meta"},[a("input",{staticClass:"button save",attrs:{type:"submit",value:"Post Comment"}})])}],ue={name:"Movie",data:function(){return{movie:null,comments:[],commentText:""}},methods:{sendComment:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.addComment(e.commentText,e.$store.state.user,e.$route.params.id);case 3:a=t.sent,200===a.status&&(e.commentText="",e.comments.unshift(a.data)),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.getMovie(e.$route.params.id);case 3:return a=t.sent,t.next=6,R.getComments(e.$route.params.id);case 6:r=t.sent,200===a.status&&(e.movie=a.data),200===r.status&&(e.comments=r.data),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},le=ue,ce=Object(d["a"])(le,oe,ie,!1,null,null,null),me=ce.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner"},[a("form",{staticClass:"form card",on:{submit:function(t){return t.preventDefault(),e.update(t)}}},[a("h2",[e._v("Edit Account")]),a("label",{attrs:{for:"name"}},[e._v("Name*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{attrs:{for:"surname"}},[e._v("Surname*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],attrs:{type:"text",name:"surname",required:""},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}}),a("label",{attrs:{for:"email"}},[e._v("Email*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",name:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{attrs:{for:"age"}},[e._v("Age*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.age,expression:"age"}],attrs:{type:"age",name:"age",required:""},domProps:{value:e.age},on:{input:function(t){t.target.composing||(e.age=t.target.value)}}}),a("input",{staticClass:"button save",attrs:{type:"submit",value:"Edit",name:"edit"}})])])},de=[],pe={name:"Account",data:function(){return{name:"",surname:"",email:"",age:"",error:null}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["saveUser"])),{},{update:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.update({id:e.user._id,name:e.name,surname:e.surname,email:e.email,age:e.age});case 3:a=t.sent,200===a.status&&e.saveUser(a.data.user),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}),mounted:function(){this.name=this.user.name,this.surname=this.user.surname,this.email=this.user.email,this.age=this.user.age},computed:Object(c["c"])(["user"])},ge=pe,Ae=Object(d["a"])(ge,ve,de,!1,null,null,null),fe=Ae.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner"},[a("form",{staticClass:"form card",on:{submit:function(t){return t.preventDefault(),e.editMovie(t)}}},[a("h2",[e._v("Edit movie")]),a("label",{attrs:{for:"name"}},[e._v("Name*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{attrs:{for:"genre"}},[e._v("Genre*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.genre,expression:"genre"}],attrs:{type:"text",name:"genre",required:""},domProps:{value:e.genre},on:{input:function(t){t.target.composing||(e.genre=t.target.value)}}}),a("label",{attrs:{for:"photo"}},[e._v("Photo*")]),a("input",{attrs:{type:"file",name:"photo"},on:{change:e.onFileSelected}}),a("label",{attrs:{for:"releaseDate"}},[e._v("Release Date*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.releaseDate,expression:"releaseDate"}],attrs:{type:"date",name:"releaseDate",required:""},domProps:{value:e.releaseDate},on:{input:function(t){t.target.composing||(e.releaseDate=t.target.value)}}}),a("label",{attrs:{for:"ageRestrict"}},[e._v("Age Restrict*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ageRestrict,expression:"ageRestrict"}],attrs:{type:"number",name:"ageRestrict",required:""},domProps:{value:e.ageRestrict},on:{input:function(t){t.target.composing||(e.ageRestrict=t.target.value)}}}),a("input",{staticClass:"button save",attrs:{type:"submit",value:"Submit Movie",name:"add"}}),a("button",{staticClass:"button delete",on:{click:e.deleteMovie}},[e._v(" Delete Movie ")])])])},we=[],he=(a("fb6a"),{name:"EditMovie",data:function(){return{name:"",genre:"",releaseDate:"",ageRestrict:"",photo:"",movie:"",selectedFile:null}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.getMovie(e.$route.params.id);case 3:a=t.sent,200===a.status&&(r=a.data,e.movie=r,e.name=r.name,e.genre=r.genre,e.releaseDate=new Date(r.releaseDate).toISOString().slice(0,10),e.ageRestrict=r.ageRestrict,e.photo=r.photo),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},methods:{editMovie:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=new te.a,a.append("file",e.selectedFile),a.append("name",e.name),a.append("genre",e.genre),a.append("ageRestrict",e.ageRestrict),a.append("releaseDate",e.releaseDate),a.append("photo",e.photo),r={formData:a,id:e.movie._id},t.next=11,R.editMovie(r);case 11:n=t.sent,200===n.status&&e.$router.push("/movies/".concat(e.movie._id)),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},deleteMovie:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.deleteMovie(e.movie._id);case 3:a=t.sent,200===a.status&&e.$router.push({name:"Home"}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onFileSelected:function(e){this.selectedFile=e.target.files[0]}}}),_e=he,be=Object(d["a"])(_e,xe,we,!1,null,null,null),Ce=be.exports,Oe={user:null,isLoggedIn:!1,isAdmin:!1},je={saveUser:function(e,t){var a=e.commit;a("saveUser",t)},removeUser:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,w.logout();case 4:t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0.message);case 10:a("logout");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},Qe={saveUser:function(e,t){e.user=t,e.isLoggedIn=!0,e.isAdmin=t.isAdmin},logout:function(e){e.user=null,e.isLoggedIn=!1,e.isAdmin=!1}},Re={};r["a"].use(c["a"]);var ke=new c["a"].Store({state:Oe,actions:je,mutations:Qe,getters:Re});r["a"].use(O["a"]);var ye=[{path:"/",name:"Home",component:I},{path:"/register",name:"Register",component:Y},{path:"/movies",name:"Movies",component:I},{path:"/movies/:id",name:"Movie",component:me},{path:"/login",name:"Login",component:K},{path:"/account",name:"Account",beforeEnter:Me,component:fe},{path:"/addmovie",name:"AddMovie",beforeEnter:De,component:se},{path:"/movies/:id/edit",name:"EditBook",beforeEnter:De,component:Ce}];function De(e,t,a){ke.state.isAdmin?a():a({path:"/"})}function Me(e,t,a){ke.state.isLoggedIn?a():a({path:"/login"})}var Pe=new O["a"]({mode:"history",base:"/",routes:ye}),Be=Pe,Se=a("4380");a("a41b");r["a"].use(Se["a"]),r["a"].config.productionTip=!1,new r["a"]({router:Be,store:ke,render:function(e){return e(C)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},8170:function(e,t,a){e.exports=a.p+"img/edit.e5746e61.png"},"9c0c":function(e,t,a){},"9d64":function(e,t){e.exports="data:image/png;base64,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"},a41b:function(e,t,a){}});
//# sourceMappingURL=app.9258dda3.js.map